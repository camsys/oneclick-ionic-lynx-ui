<!--
  Generated template for the FeedbackModalPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{ "lynx.pages.feedback.header" | translate }}</ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding text-center>
  
  <!-- Feedback form group -->
  <form [formGroup]="feedbackForm" (ngSubmit)="submit()">
    <h2 id="feedback-modal-title">{{service().name || service().agency_name}}</h2>
    
    <!-- Rating stars -->
    <ion-item text-center>
      <rating id="feedback-modal-rating" class="lynx-rating" formControlName="rating"></rating>
    </ion-item>

    <!-- Review textarea is elastic, i.e. it expands as user types new lines -->
    <ion-item id="feedback-modal-review">
      <ion-textarea fz-elastic 
                    placeholder="{{ 'lynx.pages.feedback.review_placeholder' | translate }}" 
                    formControlName="review">
      </ion-textarea>
    </ion-item>
    
    <!-- Email input just a standard text input -->
    <ion-item>
      <ion-label>{{ "lynx.pages.feedback.email" | translate }}</ion-label>
      <ion-input type="email" formControlName="email"></ion-input>
    </ion-item>
    
    <!-- Phone input uses a text mask to format the input value as a phone number -->
    <ion-item>
      <ion-label>{{ "lynx.pages.feedback.phone" | translate }}</ion-label>
      <ion-input type="tel" formControlName="phone" [textMask]="{mask: phoneMask}"></ion-input>
    </ion-item>
    
    <!-- Submit button creates a feedback, cancel discards data without leaving feedback-->
    <div id="feedback-modal-buttons">
      <button ion-button round
              type="submit"
              class="lynx-button-dark">{{ "lynx.pages.feedback.submit_button" | translate }}</button>
      <button ion-button round 
              class="lynx-button-white"
              type="button"
              (click)="cancel()">{{ "lynx.pages.feedback.cancel_button" | translate }}</button>
    </div>
  </form>
  
</ion-content>
